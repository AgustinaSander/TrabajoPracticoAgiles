<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emitir licencia</title>
    <!--GoogleFonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300&display=swap"
      rel="stylesheet"
    />
    <!--CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/estilosEmitirLicencia.css" />
    <link rel="stylesheet" href="./css/formatoLicencia.css" />
    <!--FontAwesome-->
    <script
      src="https://kit.fontawesome.com/0ab9ff7f01.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-vcard" viewBox="0 0 16 16">
            <path d="M5 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm4-2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5ZM9 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 9 8Zm1 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Z"/>
            <path d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2ZM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8.96c.026-.163.04-.33.04-.5C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1.006 1.006 0 0 1 1 12V4Z"/>
          </svg>
        </a>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html" style="color: black">Inicio</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: black">
                Licencias
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="emitirLicenciaUI.html">Emitir licencia</a></li>
                <li><a class="dropdown-item" href="listadoLicenciasExpiradas.html">Listado licencias expiradas</a></li>
                <li><a class="dropdown-item" href="listadoLicenciasVigentes.html">Listado licencias vigentes</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: black">
                Titular
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="altaTitularUI.html">Alta titular</a></li>
                <li><a class="dropdown-item" href="buscarTitularUI.html">Buscar titular</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: black">
                Usuario
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="altaUsuarioUI.html">Alta usuario</a></li>
                <li><a class="dropdown-item" href="buscarUsuarioUI.html">Buscar usuario</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: black">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="black" class="bi bi-person-circle" viewBox="0 0 16 16">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
              </svg>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="right: 0">
              <li><a class="dropdown-item" id="goProfile" href="">Ver perfil</a></li>
              <li class="dropdown-item" id="logout">Cerrar sesión</li>
            </ul>
          </ul>
        </div>
      </div>
    </nav>

    <section class="container">
      <h2>Emitir licencia</h2>
      <h4>Buscar titular para emitir su licencia</h4>
      <form action="" class="fields_to_complete" id="fields_to_complete">
        <div class="container_fields">     
            <div class="fields" id="field_name">
              <label for="name" class="field_label">Nombre</label>
              <input class="field_input" type="text" name="name" id="name"/>
            </div>
  
            <div class="fields" id="field_surname">
              <label for="surname" class="field_label">Apellido</label>           
              <input class="field_input" type="text" name="surname" id="surname"/>
            </div>
  
            <div class="fields" id="field_type_document">
              <label for="type_document" class="field_label">Tipo N° documento</label>
              <select class="group_document" name="lenguajes" id="type_document">
                  <option value="SELECCIONE" selected>SELECCIONE</option>
                  <option value="DNI">DNI</option>
                  <option value="PASAPORTE">PASAPORTE</option>
                  <option value="LU">LU</option>
                  <option value="LE">LE</option>
              </select>
            </div>
  
            <div class="fields" id="field_dni">
              <label for="n_document" class="field_label">N° documento</label>
              <input class="field_input" type="number" name="dni" id="n_document"/>
            </div>

            <button class="button" id="button">
              <i class="fa-solid fa-magnifying-glass"></i> Buscar
            </button>
        </div>
      </form>


      <div class="show_results" id="show_results">
        <h4>Resultados de la búsqueda: Seleccione un titular </h4>
        <table class="table">
          <thead>
          <tr>
            <th>#</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Tipo N° documento</th>
            <th>N° documento</th>
            <th></th>
          </tr>
          </thead>
          <tbody id="list-licenseholders">
          </tbody>
        </table>
      </div>
      <p class="error_message" id="error_message">El titular seleccionado no cumple con la edad minima de ningun tipo de licencia.</p>
      <div id="emitir-container">
        <div class="type_license" style="...">
          <div class="text-center" style="margin-bottom: 10px" id="type_license_container">
            <label for="type_license" class="field_label" style="margin-right:20px;">Seleccione tipo licencia </label>
            <select class="group_input" name="lenguajes" id="type_license">
            </select>
          </div>

          <h4>Observaciones</h4>
          <ul class="list-group">
            <li class="list-group-item checkboxGroup">
              <input class="form-check-input me-1" type="checkbox" value="Maneja caja automática" id="firstCheckbox">
              <label class="form-check-label" for="firstCheckbox">Maneja caja automática</label>
            </li>
            <li class="list-group-item checkboxGroup">
              <input class="form-check-input me-1" type="checkbox" value="Maneja con lentes" id="secondCheckbox">
              <label class="form-check-label" for="secondCheckbox">Maneja con lentes</label>
            </li>
            <li class="list-group-item checkboxGroup">
              <input class="form-check-input me-1" type="checkbox" value="Principiante durante 6 meses" id="thirdCheckbox">
              <label class="form-check-label" for="thirdCheckbox">Principiante durante 6 meses</label>
            </li>
            <li class="list-group-item checkboxGroup">
              <input class="form-check-input me-1" type="checkbox" value="Posee una discapacidad" id="fourthCheckbox">
              <label class="form-check-label" for="fourthCheckbox">Posee una discapacidad</label>
            </li>
          </ul>
        </div>
        <div style="text-align:center;">
          <button class="button btn btn-primary disabled" id="buttonEmitir" data-bs-toggle="modal" data-bs-target="#emitModal">Emitir</button>
        </div>
      </div>
    </section>

    <div style="display:none;">
      <div id="license-container" class="license-container">
        <div class="license-header">
          <h4>Licencia Nacional de Conducir</h4>
          <p>Santa Fe Capital</p>
        </div>
        <hr>
        <div class="license-body" id="license-format">
          <div class="img-container">
            <img src="img/profile.png">
            <p style="text-align: center;">CLASE <span class="info-license" id="license-type"></span><br><br>
              Grupo y Factor / <span class="english-info">Blood Type</span><br><span class="info-license" id="license-blood"></span>
              <br>Donante: <span class="info-license" id="license-donor"></span></p>
          </div>
          <div class="license-info">
            <div class="flex-container">
              <p>Tipo N° <span class="info-license" id="license-typeid"></span></p>
              <p>N° Identificacion <span class="info-license" id="license-identification"></span></p>
            </div>
            <div class="flex-container">
              <p>Apellido / <span class="english-info">Last name</span><br><span class="info-license" id="license-surname"></span>
              <p>Nombre / <span class="english-info">First name</span><br><span class="info-license" id="license-name"></span></p>
            </div>
            <p>Domicilio / <span class="english-info">Address</span><br><span class="info-license" id="license-address"></span>
            <p>Fecha de Nac. / <span class="english-info">Date of Birth</span><br><span class="info-license" id="license-birth"></span></p>
            <div class="flex-container">
              <p>Otorgamiento / <span class="english-info">Date of issue</span><br><span class="info-license" id="license-issue"></span></p>
              <p>Vencimiento / <span class="english-info">Expires</span><br><span class="info-license" id="license-expires"></span></p>
            </div>
          </div>
        </div>
        <p id="comments">Observaciones: <span class="info-license" id="license-comments"></span></p>
        <hr>
        <div class="license-footer flex-container">
          <div>
            <p>SEGURIDAD<br>VIAL</p>
          </div>
          <div>
            <p>Ministerio de Transporte <br> Republica Argentina</p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="emitModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Licencia emitida</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <div style="text-align:center; margin-right:20px;">
                <b>Detalle de Licencia Emitida</b>
                <embed id="license-pdf" src="" type="application/pdf" width="400px" height="500px"/>
              </div>
              <div style="text-align:center;">
                <b>Comprobante de Pago de Licencia</b>
                <embed id="payment-pdf" src="" type="application/pdf" width="400px" height="500px"/>
              </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="text-center"> 2022 © | Design by TripleA</footer>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script> -->
    <!--Bootstrap js-->
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"
    ></script>
    <script src="js/generarPDF.js"></script>
    <script src="js/emitirLicenciaValidaciones.js"></script>

  </body>
</html>